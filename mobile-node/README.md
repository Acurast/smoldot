# Overview

This directory contains the source code of an Android library (in the `android` subdirectory)
that makes it possible to connect to Substrate-based chains (such as Polkadot).

The Android library uses the Android NDK to call C++ bindings generated by compiling the Rust library found in the
`rust` subdirectory. This library is based on the bindings found in the `wasm-node` package.

# Install

1. Add the [JitPack](https://jitpack.io/) repository to your root `build.gradle.kts` file:
```kotlin
allprojects {
    repositories {
        ...
        maven { url = uri("https://jitpack.io") }
    }
}
```

2. Add the dependency:
```kotlin
implementation("com.github.acurast:smoldot:x.y.z")
```

# Development

To build the project:
1. Make sure you're in the `android` subdirectory.
2. Build the Gradle project:
```shell
$ ./gradlew build
```

Additionally, to compile the Rust code and copy the output FFI files into the Android project:
1. Make sure you're in the `android` subdirectory.
2. Run the Gradle command:
```shell
$ ./gradlew buildSmoldotFFI
```